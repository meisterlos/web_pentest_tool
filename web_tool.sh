#!/bin/bash

# Scriptin bulunduğu dizini göster
echo "Scriptin bulunduğu dizin: $(pwd)"

# Kullanıcıdan URL al
read -p "Lütfen bir web sitesi URL'si girin: " website_url

# urlscan.py ile tarama yap
python urlscan.py -u "$website_url" -o bulunan_dizin.txt

# urlscan.py başarılı bir şekilde çalıştı mı kontrol et
if [ $? -eq 0 ]; then
    echo "urlscan.py başarıyla çalıştı. Şimdi xss.py çalıştırılıyor..."
    
    # xss.py ile XSS taraması yap
    python xss.py -L bulunan_dizin.txt -o xss.txt

    # xss.py başarılı bir şekilde çalıştı mı kontrol et
    if [ $? -eq 0 ]; then
        echo "xss.py başarıyla çalıştı. Şimdi sql.py çalıştırılıyor..."

        # sql.py ile SQL Injection taraması yap
        python sql.py -L bulunan_dizin.txt -o sql.txt

        # sql.py başarılı bir şekilde çalıştı mı kontrol et
        if [ $? -eq 0 ]; then
            echo "sql.py başarıyla çalıştı. Tüm taramalar tamamlandı."
        else
            echo "sql.py çalışırken bir hata oluştu."
        fi
    else
        echo "xss.py çalışırken bir hata oluştu."
    fi
else
    echo "urlscan.py çalışırken bir hata oluştu."
fi
